## Copyright (C) 2010 Abdulla Kamar. All rights reserved. ##

def build( context ):
    platform = context.env.platform

    context.shlib(
        includes = platform.image.includes,
        lib = 'Half Iex IlmImf IlmThread openjpeg png squish turbojpeg z',
        libpath = platform.image.libpath,
        linkflags = platform.shlib( 'image' ),
        source = 'dds.cpp exr.cpp image.cpp jpeg.cpp jpeg2000.cpp png.cpp',
        system_includes = platform.image.system_includes,
        target = 'image',
        use = 'io' )

    context.program(
        source = 'image_test.cpp',
        target = 'image_test',
        use = 'image unit' )
